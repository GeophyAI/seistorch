Search.setIndex({"docnames": ["configure", "data_format", "getting_started", "head", "index", "quick_start", "running_commands"], "filenames": ["configure.md", "data_format.md", "getting_started.md", "head.md", "index.rst", "quick_start.md", "running_commands.md"], "titles": ["Configure file", "Data Format", "Getting Started", "Introduction", "Welcome to Seistorch\u2019s documentation!", "Quick Start", "Configuration Parameters for FWI Scripts"], "terms": {"The": [0, 1, 2, 3, 5, 6], "yml": [0, 2, 5, 6], "i": [0, 1, 2, 3, 5], "crucial": [0, 3], "compon": [0, 1], "your": [0, 1, 2, 3, 5, 6], "seismic": [0, 1, 2, 3, 5], "invers": [0, 3, 4, 6], "forward": [0, 1, 3, 4, 6], "model": [0, 3, 4, 6], "process": [0, 2, 3], "It": 0, "contain": [0, 1], "essenti": [0, 6], "set": [0, 1, 2, 5, 6], "determin": [0, 2], "how": [0, 1, 4, 5], "simul": [0, 2, 3, 5, 6], "ar": [0, 1, 2, 3, 6], "carri": 0, "out": 0, "In": [0, 1, 2], "thi": [0, 1, 2, 3, 5, 6], "document": [0, 3], "we": [0, 1, 3, 5], "describ": [0, 2], "kei": [0, 4], "section": [0, 2, 5, 6], "within": 0, "yaml": [0, 2], "seistorch": [0, 1, 2, 3, 5, 6], "automat": [0, 3, 5], "pars": 0, "python": [0, 1, 2, 3, 5], "dictionari": 0, "make": [0, 1, 3], "easi": 0, "access": [0, 3], "util": [0, 2, 3], "script": [0, 2, 4, 5], "you": [0, 1, 2, 3, 5, 6], "can": [0, 1, 2, 3, 5, 6], "read": [0, 1], "follow": [0, 1, 2, 3, 5, 6], "code": [0, 2, 5], "from": [0, 1, 2, 3], "import": [0, 1, 2], "cloader": 0, "loader": 0, "load": [0, 1, 3], "config_path": 0, "r": [0, 2], "your_yml_file_path": 0, "open": [0, 1, 3], "ymlfile": 0, "cfg": 0, "provid": [0, 2, 3, 6], "an": [0, 1, 2, 3, 6], "overview": [0, 6], "should": [0, 1, 2], "string": 0, "without": 0, "need": [0, 1, 2, 3, 5, 6], "quotat": 0, "mark": 0, "exampl": [0, 1, 2, 5, 6], "geom": [0, 1], "obspath": 0, "home": 0, "data": [0, 2, 4, 5, 6], "ob": [0, 2], "npy": [0, 1, 5], "truepath": 0, "vp": [0, 2, 6], "specifi": [0, 1, 2, 6], "where": [0, 1, 2], "synthet": [0, 2, 6], "gener": [0, 1, 5], "dure": [0, 1, 5], "save": [0, 1, 2, 3, 5], "same": 0, "observ": [0, 2, 3, 5, 6], "us": [0, 1, 2, 3, 5], "refer": [0, 2, 4], "fit": [0, 6], "when": [0, 1, 2, 3, 6], "run": [0, 4, 5, 6], "fwi": [0, 2, 3, 4, 5], "py": [0, 2, 4, 5], "mode": [0, 1, 2], "behavior": 0, "conduct": 0, "If": [0, 1, 2, 6], "calcul": [0, 3], "error": 0, "subsequ": 0, "log": 0, "tensorboard": [0, 3], "record": [0, 1], "keep": 0, "class": 0, "eqconfigur": 0, "defin": [0, 1, 2], "requir": [0, 2, 6], "variou": [0, 3], "equat": [0, 2], "each": [0, 1, 3], "ha": [0, 3], "its": [0, 2, 3], "list": [0, 4], "necessari": 0, "miss": 0, "cannot": 0, "rais": 0, "indic": 0, "which": [0, 2], "encount": 0, "issu": 0, "initpath": 0, "onli": [0, 2, 6], "work": [0, 2, 3], "initi": [0, 5, 6], "locat": [0, 5], "sourc": [0, 2, 3, 4, 5, 6], "inform": 0, "both": [0, 2, 3], "receiv": [0, 2, 4, 5], "seab": [0, 6], "about": 0, "shape": [0, 1], "valu": 0, "0": [0, 2, 6], "seawat": 0, "area": 0, "1": [0, 1, 2, 3, 6], "other": [0, 2, 3], "region": 0, "gradient": [0, 3, 6], "sea": 0, "mask": [0, 6], "express": [0, 3], "loss": [0, 2, 5], "backward": 0, "grad": [0, 2], "optim": [0, 3, 6], "step": [0, 2, 6], "wavelet": [0, 2], "effect": [0, 3], "note": [0, 1], "paramt": [0, 6], "fm": 0, "wavelet_delai": 0, "ignor": 0, "For": 0, "valid": [0, 6], "true": [0, 1, 5], "repres": [0, 1, 2], "posit": [0, 2], "affirm": 0, "condit": 0, "fals": 0, "neg": 0, "train": [0, 6], "implicit": 0, "minibatch": 0, "network": [0, 3], "siren": 0, "batch_siz": 0, "classic": [0, 2, 3, 5], "encod": [0, 2, 3, 5, 6], "mani": [0, 3], "individu": 0, "shot": [0, 3, 4, 5, 6], "equal": [0, 1], "comput": [0, 2, 3, 5, 6], "one": [0, 1], "epoch": 0, "sigma": 0, "batchsiz": [0, 2], "_": [0, 2, 5], "partial": 0, "w": [0, 2, 3], "t": [0, 2, 3], "mathbf": [0, 2], "x": [0, 2], "": [0, 1, 2, 3], "m": [0, 2, 3], "singl": [0, 2, 6], "super": [0, 6], "approach": [0, 3], "acceler": [0, 3], "reduc": [0, 3, 5], "cost": 0, "multipl": [0, 1, 3, 6], "absorpt": 0, "boundari": [0, 3, 5], "upper": 0, "deactiv": 0, "appli": 0, "all": [0, 2], "side": 0, "boundary_sav": [0, 5], "oper": [0, 1, 2], "strategi": [0, 3, 5], "emploi": 0, "reconstruct": [0, 5], "wavefield": [0, 1, 5], "gpu": [0, 2, 3, 5, 6], "memori": [0, 3, 5], "usag": [0, 5, 6], "pure": [0, 5], "differenti": [0, 3, 5], "wavelet_invers": 0, "whether": [0, 6], "invert": [0, 4, 6], "revers": 0, "polar": 0, "ricker": 0, "invlist": 0, "includ": [0, 3], "multi": 0, "possibl": 0, "focu": 0, "specif": [0, 6], "while": [0, 2], "fix": [0, 1, 2], "constrain": 0, "have": [0, 1, 2, 3], "complex": 0, "primarili": 0, "interest": 0, "updat": 0, "estim": 0, "subset": 0, "those": 0, "most": [0, 1], "relev": 0, "research": [0, 3], "applic": [0, 2], "elast": 0, "wave": [0, 2, 3, 5], "want": [0, 2, 6], "p": [0, 3], "veloc": [0, 5], "densiti": 0, "unchang": 0, "init_vp": 0, "v": [0, 6], "init_v": 0, "rho": [0, 6], "init_rho": 0, "type": [0, 5], "limit": 0, "caus": 0, "select": 0, "fall": 0, "outsid": 0, "predefin": 0, "dtype": 0, "torch": [0, 3, 6], "default": 0, "float32": 0, "implement": 0, "store": [0, 1], "acoust": [0, 4], "call": [0, 5, 6], "function": [0, 3, 6], "name": [0, 3, 5], "source_typ": 0, "receiver_typ": [0, 1], "allow": [0, 1, 2, 3], "control": [0, 3], "influenc": 0, "analysi": 0, "txx": 0, "tzz": 0, "vx": [0, 1], "vz": [0, 1], "seed": 0, "random": [0, 1], "reproduc": 0, "experi": [0, 6], "outcom": 0, "see": 0, "n_epoch": 0, "number": [0, 1, 2, 6], "scale": [0, 3], "lr": [0, 2], "learn": [0, 5, 6], "rate": [0, 6], "scale_decai": 0, "lr_decai": 0, "decai": 0, "across": [0, 2, 3], "differ": [0, 1, 6], "exponenti": 0, "th": 0, "n": 0, "frequenc": 0, "band": 0, "given": 0, "init": 0, "filter_ord": 0, "order": 0, "filter": 0, "recommand": 0, "4": [0, 2, 3], "delai": 0, "multiscal": 0, "domin": 0, "A": [0, 3, 5], "low": 0, "pass": [0, 3], "keyword": 0, "origin": 0, "3": [0, 2], "5": [0, 2, 3, 6], "dt": 0, "time": [0, 1], "interv": 0, "also": [0, 1, 6], "between": [0, 2, 5], "sampl": [0, 1], "nt": [0, 1], "leav": 0, "blank": 0, "h": 0, "grid": 0, "size": 0, "z": 0, "direct": 0, "nshot": [0, 1], "bigger": 0, "than": 0, "length": [0, 1], "actual": [0, 1, 2], "minimum": 0, "ensur": [0, 1, 3], "doe": 0, "exce": [0, 2], "avail": [0, 2], "min": 0, "len": 0, "pml": 0, "width": 0, "chapter": 1, "introduc": 1, "well": [1, 5], "recommend": 1, "file": [1, 2, 4, 5, 6], "particularli": [1, 3], "effici": [1, 3, 5], "conveni": 1, "especi": 1, "2d": 1, "3d": 1, "nz": 1, "nx": 1, "here": [1, 2], "advantag": 1, "numpi": [1, 3], "np": 1, "matplotlib": 1, "pyplot": 1, "plt": 1, "creat": [1, 2, 5], "arrai": 1, "rand": 1, "replac": 1, "imshow": 1, "show": [1, 5], "loaded_model": 1, "pkl": 1, "pickl": 1, "These": 1, "perform": [1, 3, 4], "write": 1, "geometri": [1, 2, 5, 6], "def": 1, "write_pkl": 1, "path": [1, 2], "str": 1, "binari": 1, "wb": 1, "f": [1, 2], "dump": 1, "read_pkl": 1, "rb": 1, "return": 1, "own": [1, 5], "coordin": 1, "typic": 1, "case": 1, "mai": [1, 6], "correspond": [1, 5], "structur": 1, "outer": 1, "item": 1, "inner": 1, "associ": 1, "src_x1": 1, "src_z1": 1, "2": [1, 2, 5], "src_x2": 1, "src_z2": 1, "rec_x1": 1, "rec_x2": 1, "rec_x3": 1, "rec_z1": 1, "rec_z2": 1, "rec_z3": 1, "muet": 1, "so": [1, 2], "them": 1, "respect": [1, 2], "purpos": 1, "do": [1, 2], "more": 1, "fiexabl": 1, "chang": [1, 5], "geomtri": 1, "obc": 1, "acquisit": 1, "four": [1, 2], "dimens": 1, "nsampl": 1, "ntrace": 1, "ncompon": 1, "first": [1, 5], "being": 1, "second": 1, "point": 1, "third": 1, "trace": 1, "fourth": 1, "configur": [1, 2, 4, 5], "20": [1, 2, 6], "10": [1, 2, 6], "2000": 1, "To": [1, 2, 3], "handl": 1, "empti": 1, "ndarrai": 1, "obtain": 1, "therefor": 1, "allow_pickl": 1, "proper": 1, "download": 2, "begin": 2, "github": 2, "repositori": 2, "clone": 2, "local": 2, "machin": 2, "git": 2, "http": 2, "com": 2, "replace_this_after_upload": 2, "two": [2, 5], "codingfwi": [2, 4], "full": [2, 3, 4], "waveform": [2, 3, 4], "task": [2, 3, 6], "base": [2, 3, 5], "yet": 2, "propag": [2, 5], "d": [2, 3], "paramet": [2, 4], "subsurfac": [2, 3], "properti": [2, 3], "xr": 2, "detector": 2, "signatur": 2, "prepar": [2, 6], "templat": 2, "found": [2, 5, 6], "pleas": [2, 3], "detail": 2, "host": 2, "ip": 2, "address": 2, "below": 2, "127": 2, "mean": 2, "intend": 2, "One": 2, "respons": 2, "assign": [2, 6], "o": 2, "node": [2, 3], "would": [2, 3], "total": 2, "node1": 2, "node2": 2, "option1": 2, "option2": 2, "card": 2, "sequenti": 2, "manner": 2, "command": 2, "shell": [2, 5], "On": 2, "support": [2, 3, 6], "mpirun": 2, "cuda": 2, "cpu": [2, 6], "abov": 2, "must": 2, "absolut": 2, "goal": 2, "recov": [2, 3], "minim": 2, "misfit": 2, "syn": 2, "written": 2, "argmin": 2, "execut": 2, "similar": 2, "adjust": 2, "involv": 2, "up": [2, 3], "find": 2, "instruct": 2, "just": [2, 6], "skip": 2, "procedur": 2, "distribut": 2, "guidanc": 2, "classi": 2, "opt": 2, "adam": 2, "l2": [2, 6], "parh_for_sav": 2, "cut": 2, "gpuid": 2, "path_for_sav": 2, "smooth": [2, 5], "result": [2, 4, 5, 6], "specfi": 2, "packag": 3, "power": 3, "design": 3, "field": 3, "geophys": 3, "techniqu": 3, "compar": [3, 5], "simplifi": 3, "streamlin": 3, "profession": 3, "earth": 3, "scienc": 3, "develop": 3, "entir": 3, "eas": 3, "compat": 3, "environ": 3, "pytorch": 3, "leverag": 3, "capabl": 3, "fundament": 3, "aspect": 3, "parallel": [3, 6], "equip": 3, "significantli": [3, 5], "guidelin": 3, "get": [3, 4], "start": [3, 4], "balanc": 3, "mpi": 3, "alloc": 3, "maxim": 3, "resourc": 3, "speed": 3, "offer": 3, "user": 3, "consumpt": 3, "through": [3, 5], "larg": 3, "variant": 3, "accumul": 3, "supershot": 3, "give": 3, "flexibl": 3, "choos": 3, "suit": 3, "friendli": 3, "come": 3, "intuit": 3, "api": 3, "extens": 3, "beginn": 3, "experienc": 3, "geophysicist": 3, "befor": [3, 6], "instal": 3, "mpi4pi": 3, "pot": 3, "torchvis": 3, "tqdm": 3, "pyyaml": 3, "mpich": 3, "reli": 3, "messag": 3, "interfac": 3, "version": [3, 5], "system": 3, "instanc": 3, "like": [3, 6], "our": 3, "sincer": 3, "gratitud": 3, "contributor": 3, "project": 3, "wavetorch": 3, "Their": 3, "been": 3, "signific": 3, "inspir": 3, "contribut": 3, "valuabl": 3, "insight": 3, "innov": 3, "solut": 3, "seismologi": 3, "certain": 3, "convent": 3, "wavecel": 3, "wavernn": 3, "wavesourc": 3, "waveprob": 3, "etc": 3, "idea": 3, "codebas": 3, "hugh": 3, "williamson": 3, "minkov": 3, "fan": 3, "physic": 3, "analog": 3, "recurr": 3, "neural": 3, "advanc": 3, "vol": 3, "12": 3, "eaay6946": 3, "dec": 3, "2019": 3, "introduct": 4, "featur": 4, "depend": 4, "acknowledg": 4, "quick": 4, "format": 4, "gather": [4, 5], "welcom": 5, "guid": 5, "walk": 5, "basic": 5, "ll": 5, "cover": 5, "topic": 5, "forward_model": 5, "directori": 5, "cd": 5, "layer": 5, "pair": 5, "generate_model_geometri": 5, "new": 5, "folder": 5, "figur": 5, "png": 5, "illustr": 5, "sh": 5, "shot_gath": 5, "show_shotgath": 5, "plot": 5, "acoustic_fwi": 5, "exmapl": 5, "workflow": 5, "pad": 5, "bsad": 5, "method": 5, "backpropag": 5, "srcipt": 5, "ground": 5, "truth": 5, "li": 5, "config": 5, "differeni": 5, "inversion_ad": 5, "inversion_b": 5, "ad_vs_b": 5, "sacrific": 5, "some": 5, "addit": 6, "tailor": 6, "role": 6, "achiev": 6, "success": 6, "descript": 6, "thread": 6, "intraop": 6, "6": 6, "paral": 6, "sepcifi": 6, "argument": 6, "overwrit": 6, "inv_savepath": 6, "mse": 6, "78": 6, "25": 6, "modul": 6, "modifi": 6, "acceelr": 6, "id": 6, "l1": 6}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"configur": [0, 6], "file": 0, "format": [0, 1], "paramet": [0, 1, 6], "path": [0, 6], "relat": 0, "boolean": 0, "restrict": 0, "choic": 0, "scalar": 0, "data": 1, "model": [1, 2, 5], "sourc": 1, "receiv": 1, "list": 1, "shot": 1, "gather": 1, "invert": 1, "result": 1, "get": 2, "start": [2, 5], "how": 2, "run": 2, "forward": [2, 5], "perform": [2, 5], "invers": [2, 5], "introduct": 3, "kei": 3, "featur": 3, "depend": 3, "acknowledg": 3, "refer": 3, "welcom": 4, "seistorch": 4, "": 4, "document": 4, "content": 4, "quick": 5, "acoust": 5, "full": 5, "waveform": 5, "fwi": 6, "script": 6, "py": 6, "config": 6, "num_thread": 6, "save": 6, "loss": 6, "lr": 6, "mode": 6, "grad": 6, "cut": 6, "codingfwi": 6, "us": 6, "cuda": 6, "gpuid": 6, "batchsiz": 6, "smooth": 6}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Configure file": [[0, "configure-file"]], "Format of configure file": [[0, "format-of-configure-file"]], "Parameters in Configure File": [[0, "parameters-in-configure-file"]], "Path related parameters": [[0, "path-related-parameters"]], "Boolean parameters": [[0, "boolean-parameters"]], "Restricted choice parameter": [[0, "restricted-choice-parameter"]], "Scalar parameters": [[0, "scalar-parameters"]], "Data Format": [[1, "data-format"]], "Model parameters": [[1, "model-parameters"]], "Source and receivers list": [[1, "source-and-receivers-list"]], "Shot gather": [[1, "shot-gather"]], "Inverted results": [[1, "inverted-results"]], "Getting Started": [[2, "getting-started"]], "How to run forward modeling": [[2, "how-to-run-forward-modeling"]], "How to perform inversion": [[2, "how-to-perform-inversion"]], "Introduction": [[3, "introduction"]], "Key Features": [[3, "key-features"]], "Dependencies": [[3, "dependencies"]], "Acknowledgements": [[3, "acknowledgements"]], "Reference": [[3, "reference"]], "Welcome to Seistorch\u2019s documentation!": [[4, "welcome-to-seistorch-s-documentation"]], "Contents:": [[4, null]], "Quick Start": [[5, "quick-start"]], "Perform forward modeling": [[5, "perform-forward-modeling"]], "Perform acoustic full waveform inversion": [[5, "perform-acoustic-full-waveform-inversion"]], "Configuration Parameters for FWI Scripts": [[6, "configuration-parameters-for-fwi-scripts"]], "Parameters for fwi.py": [[6, "parameters-for-fwi-py"]], "Parameter: [config]": [[6, "parameter-config"], [6, "id1"]], "Parameter: [num_threads]": [[6, "parameter-num-threads"], [6, "id2"]], "Parameter: [save-path]": [[6, "parameter-save-path"], [6, "id4"]], "Parameter: [loss]": [[6, "parameter-loss"], [6, "id3"]], "Parameter: [lr]": [[6, "parameter-lr"], [6, "id5"]], "Parameter: [mode]": [[6, "parameter-mode"]], "Parameter: [grad-cut]": [[6, "parameter-grad-cut"], [6, "id6"]], "Parameters for codingfwi.py": [[6, "parameters-for-codingfwi-py"]], "Parameter: [use-cuda]": [[6, "parameter-use-cuda"]], "Parameter: [gpuid]": [[6, "parameter-gpuid"]], "Parameter: [batchsize]": [[6, "parameter-batchsize"]], "Parameter: [grad-smooth]": [[6, "parameter-grad-smooth"]]}, "indexentries": {}})